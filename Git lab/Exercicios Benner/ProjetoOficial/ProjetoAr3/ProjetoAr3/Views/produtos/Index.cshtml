@model IEnumerable<ProjetoAr3.Models.produtos>

@{
    ViewBag.Title = "Index";
}
<head>
    <style>
        table {
            font-family: arial, sans-serif;
            border-collapse: collapse;
            width: 100%;
        }

        td, th {
            border: 1px solid #dddddd;
       
            padding: 8px;
            vertical-align: central;
        }

        tr:nth-child(even) {
            background-color: #dddddd;
        }
    </style>
</head>
<h2>Cadastro de Produtos</h2>

<p>
    @Html.ActionLink("Novo Cadastro", "Create", new { id = 3 }, new { @class = "btn btn-primary btn-lg btn-block" })
</p>
<table class="table">
    <tr>
        <th class="text-center">
            Nome
        </th>
        <th class="text-center">
            Quantidade
        </th>
        <th class="text-center">
            Preço
        </th>
        <th class="text-center">
            Categoria
        </th>
        <th class="text-center">
            Imagem
        </th>
        <th class="text-center">
            Ações
        </th>

    </tr>

    @foreach (var item in Model)
    {
        <tr class="text-center" id="Alinhamento">
            <td class="text-center">
                @Html.DisplayFor(modelItem => item.Nome)
            </td>
            <td class="text-center">
                @Html.DisplayFor(modelItem => item.Quantidade)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Preço)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Categoria.Nome)
            </td>

            @if (item.Imagem != null)
            {
                var ImagemProduto = "";
                var base64 = Convert.ToBase64String(item.Imagem);
                ImagemProduto = string.Format("data:image/png;base64,{0}", base64);
                <td>
                    <img src="@ImagemProduto" style="width:50px; height:50px; max-width:100px; ">
                </td>
            }

            <td>
                @Html.ActionLink("Editar", "Edit", new { id = item.Id }) |
                @Html.ActionLink("Detalhes", "Details", new { id = item.Id }) |
                @Html.ActionLink("Apagar", "Delete", new { id = item.Id })
            </td>
        </tr>
        }

    </table>
